{"ast":null,"code":"export class MemoryEventSubscription {\n  constructor(event) {\n    this._event = event;\n    this._internalId = null;\n    this._sub = null;\n    this._unsubscribe = false;\n  }\n\n}\n\nMemoryEventSubscription.prototype.setId = function (id) {\n  this._internalId = id; // as id can be receveid after unsubscribe call, defere\n\n  if (this._unsubscribe) this.unsubscribe(this._unsubscribeCallback);\n};\n\nMemoryEventSubscription.prototype.setSubscriber = function (sub) {\n  this._sub = sub; // as sub can be receveid after unsubscribe call, defere\n\n  if (this._unsubscribe) this.unsubscribe(this._unsubscribeCallback);\n};\n\nMemoryEventSubscription.prototype.unsubscribe = function (unsubscribeDoneCallback) {\n  if (this._internalId != null && this._sub != null) {\n    var evtSubscription = this;\n\n    evtSubscription._sub.signal.disconnect(evtSubscription._internalId).then(function () {\n      if (unsubscribeDoneCallback) unsubscribeDoneCallback();\n    }).fail(onALMemoryError);\n  } else {\n    this._unsubscribe = true;\n    this._unsubscribeCallback = unsubscribeDoneCallback;\n  }\n};\n\nvar onALMemoryError = function (errMsg) {\n  console.log(\"ALMemory error: \" + errMsg);\n};\n\nvar pendingConnectionCallbacks = [];\nexport function getScript(source, successCallback, failureCallback) {\n  var script = document.createElement('script');\n  var prior = document.getElementsByTagName('script')[0];\n  script.async = !!1;\n  prior.parentNode.insertBefore(script, prior);\n\n  script.onload = script.onreadystatechange = function (_, isAbort) {\n    if (isAbort || !script.readyState || /loaded|complete/.test(script.readyState)) {\n      script.onload = script.onreadystatechange = null;\n      script = undefined;\n\n      if (isAbort) {\n        if (failureCallback) failureCallback();\n      } else {\n        // Success!\n        if (successCallback) successCallback();\n      }\n    }\n  };\n\n  script.src = source;\n}","map":{"version":3,"names":["MemoryEventSubscription","constructor","event","_event","_internalId","_sub","_unsubscribe","prototype","setId","id","unsubscribe","_unsubscribeCallback","setSubscriber","sub","unsubscribeDoneCallback","evtSubscription","signal","disconnect","then","fail","onALMemoryError","errMsg","console","log","pendingConnectionCallbacks","getScript","source","successCallback","failureCallback","script","document","createElement","prior","getElementsByTagName","async","parentNode","insertBefore","onload","onreadystatechange","_","isAbort","readyState","test","undefined","src"],"sources":["C:/Users/Alfia/Desktop/cst/apps/reactjs-hangman/src/services/Event.js"],"sourcesContent":["export class MemoryEventSubscription {\r\n    constructor(event) {\r\n        this._event = event;\r\n        this._internalId = null;\r\n        this._sub = null;\r\n        this._unsubscribe = false;\r\n    }\r\n   \r\n}\r\n\r\nMemoryEventSubscription.prototype.setId = function(id) {\r\n    this._internalId = id;\r\n    // as id can be receveid after unsubscribe call, defere\r\n    if (this._unsubscribe) this.unsubscribe(this._unsubscribeCallback);\r\n}\r\n\r\nMemoryEventSubscription.prototype.setSubscriber = function(sub) {\r\n    this._sub = sub;\r\n    // as sub can be receveid after unsubscribe call, defere\r\n    if (this._unsubscribe) this.unsubscribe(this._unsubscribeCallback);\r\n}\r\n\r\nMemoryEventSubscription.prototype.unsubscribe = function(unsubscribeDoneCallback)\r\n{\r\n    if (this._internalId != null && this._sub != null) {\r\n        var evtSubscription = this;\r\n        evtSubscription._sub.signal.disconnect(evtSubscription._internalId).then(function() {\r\n            if (unsubscribeDoneCallback) unsubscribeDoneCallback();\r\n        }).fail(onALMemoryError);\r\n    }\r\n    else\r\n    {\r\n        this._unsubscribe = true;\r\n        this._unsubscribeCallback = unsubscribeDoneCallback;\r\n    }\r\n}\r\n\r\nvar onALMemoryError = function(errMsg) {\r\n    console.log(\"ALMemory error: \" + errMsg);\r\n}\r\n\r\nvar pendingConnectionCallbacks = [];\r\n\r\n\r\nexport function getScript(source, successCallback, failureCallback) {\r\n    var script = document.createElement('script');\r\n    var prior = document.getElementsByTagName('script')[0];\r\n    script.async = !!1;\r\n    prior.parentNode.insertBefore(script, prior);\r\n\r\n    script.onload = script.onreadystatechange = function( _, isAbort ) {\r\n        if(isAbort || !script.readyState || /loaded|complete/.test(script.readyState) ) {\r\n            script.onload = script.onreadystatechange = null;\r\n            script = undefined;\r\n\r\n            if(isAbort) {\r\n                if (failureCallback) failureCallback();\r\n            } else {\r\n                // Success!\r\n                if (successCallback) successCallback();\r\n            }\r\n        }\r\n    };\r\n\r\n    script.src = source;\r\n}     "],"mappings":"AAAA,OAAO,MAAMA,uBAAN,CAA8B;EACjCC,WAAW,CAACC,KAAD,EAAQ;IACf,KAAKC,MAAL,GAAcD,KAAd;IACA,KAAKE,WAAL,GAAmB,IAAnB;IACA,KAAKC,IAAL,GAAY,IAAZ;IACA,KAAKC,YAAL,GAAoB,KAApB;EACH;;AANgC;;AAUrCN,uBAAuB,CAACO,SAAxB,CAAkCC,KAAlC,GAA0C,UAASC,EAAT,EAAa;EACnD,KAAKL,WAAL,GAAmBK,EAAnB,CADmD,CAEnD;;EACA,IAAI,KAAKH,YAAT,EAAuB,KAAKI,WAAL,CAAiB,KAAKC,oBAAtB;AAC1B,CAJD;;AAMAX,uBAAuB,CAACO,SAAxB,CAAkCK,aAAlC,GAAkD,UAASC,GAAT,EAAc;EAC5D,KAAKR,IAAL,GAAYQ,GAAZ,CAD4D,CAE5D;;EACA,IAAI,KAAKP,YAAT,EAAuB,KAAKI,WAAL,CAAiB,KAAKC,oBAAtB;AAC1B,CAJD;;AAMAX,uBAAuB,CAACO,SAAxB,CAAkCG,WAAlC,GAAgD,UAASI,uBAAT,EAChD;EACI,IAAI,KAAKV,WAAL,IAAoB,IAApB,IAA4B,KAAKC,IAAL,IAAa,IAA7C,EAAmD;IAC/C,IAAIU,eAAe,GAAG,IAAtB;;IACAA,eAAe,CAACV,IAAhB,CAAqBW,MAArB,CAA4BC,UAA5B,CAAuCF,eAAe,CAACX,WAAvD,EAAoEc,IAApE,CAAyE,YAAW;MAChF,IAAIJ,uBAAJ,EAA6BA,uBAAuB;IACvD,CAFD,EAEGK,IAFH,CAEQC,eAFR;EAGH,CALD,MAOA;IACI,KAAKd,YAAL,GAAoB,IAApB;IACA,KAAKK,oBAAL,GAA4BG,uBAA5B;EACH;AACJ,CAbD;;AAeA,IAAIM,eAAe,GAAG,UAASC,MAAT,EAAiB;EACnCC,OAAO,CAACC,GAAR,CAAY,qBAAqBF,MAAjC;AACH,CAFD;;AAIA,IAAIG,0BAA0B,GAAG,EAAjC;AAGA,OAAO,SAASC,SAAT,CAAmBC,MAAnB,EAA2BC,eAA3B,EAA4CC,eAA5C,EAA6D;EAChE,IAAIC,MAAM,GAAGC,QAAQ,CAACC,aAAT,CAAuB,QAAvB,CAAb;EACA,IAAIC,KAAK,GAAGF,QAAQ,CAACG,oBAAT,CAA8B,QAA9B,EAAwC,CAAxC,CAAZ;EACAJ,MAAM,CAACK,KAAP,GAAe,CAAC,CAAC,CAAjB;EACAF,KAAK,CAACG,UAAN,CAAiBC,YAAjB,CAA8BP,MAA9B,EAAsCG,KAAtC;;EAEAH,MAAM,CAACQ,MAAP,GAAgBR,MAAM,CAACS,kBAAP,GAA4B,UAAUC,CAAV,EAAaC,OAAb,EAAuB;IAC/D,IAAGA,OAAO,IAAI,CAACX,MAAM,CAACY,UAAnB,IAAiC,kBAAkBC,IAAlB,CAAuBb,MAAM,CAACY,UAA9B,CAApC,EAAgF;MAC5EZ,MAAM,CAACQ,MAAP,GAAgBR,MAAM,CAACS,kBAAP,GAA4B,IAA5C;MACAT,MAAM,GAAGc,SAAT;;MAEA,IAAGH,OAAH,EAAY;QACR,IAAIZ,eAAJ,EAAqBA,eAAe;MACvC,CAFD,MAEO;QACH;QACA,IAAID,eAAJ,EAAqBA,eAAe;MACvC;IACJ;EACJ,CAZD;;EAcAE,MAAM,CAACe,GAAP,GAAalB,MAAb;AACH"},"metadata":{},"sourceType":"module"}